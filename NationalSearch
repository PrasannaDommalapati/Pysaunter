package TestAutomation;

import org.openqa.selenium.By;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.support.ui.Select;

public class NationalSearch extends BasePage{
	
	public NationalSearch(WebDriver driver)
	{
		super(driver);
	}

	
	Select dropDown;
	BasePage basepage = new BasePage(driver);
	
	public void searchOffender()
	{
		basepage.readExcel();
		int row = basepage.cellLocation("Add Offender Auto");
		String lName = basepage.getData(0, row, 9);
		String fName = basepage.getData(0, row, 6);
		basepage.elementFinder("//input[@id='SearchForm:FirstName']").clear();
		basepage.elementFinder("//input[@id='SearchForm:FirstName']").sendKeys(fName);
		basepage.elementFinder("//input[@id='SearchForm:LastName']").clear();
		basepage.elementFinder("//input[@id='SearchForm:LastName']").sendKeys(lName);;
		dropDown = new Select(basepage.elementFinder("//select[@id='SearchForm:NationalSearch']"));
		dropDown.selectByIndex(1);
		basepage.elementFinder("//input[@id='SearchForm:searchButton']").click();
	}
	
	
	
	public void webTableFun()
	{
		basepage.goToRecentlyViewed("Recently Viewed");
		String xpath_start = "//*[@id='j_id_id11:offenderTable:tbody_element']/tr[";
		String xpath_mid = "]/td[";
		String xpath_end = "]";
		for(int row =1;row<=10;row++)
		{
			for(int col = 1; col<=6; col++)
			{
				String offList = driver.findElement(By.xpath(xpath_start+row+xpath_mid+col+xpath_end)).getText();
				System.out.print(offList+"----");
			}
			System.out.println();
		}
		
	}

	public void viewOffenderSummary()
	{
		basepage.elementFinder("//*[@id='offendersTable']/tbody/tr/td[10]/a").click();
	}
}
